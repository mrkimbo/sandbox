var MainTimeline=new TimelineMax({paused:true});var currentPage;var scrollTween;function redrawTweens(){var c,b,a;MainTimeline.clear();c=elements.pages[0];a=c.findAll(".options li");MainTimeline.addLabel("Page1");MainTimeline.addLabel("Question1");MainTimeline.add(TweenLite.to(c.find(".text"),1,{y:-50,opacity:0,ease:Linear.easeNone,roundProps:["y"]}));a.forEach(function(d){MainTimeline.add(TweenLite.to(d,1,{opacity:0,ease:Power2.easeOut}),"-=.8")});MainTimeline.add(TweenLite.to(elements.container,0.5,{backgroundColor:"#0080A4"}),"-=1");MainTimeline.addLabel("Page2","-=.2");c=elements.pages[1];a=c.findAll(".bail");MainTimeline.add(TweenLite.to(c.find(".stumps"),1,{y:-250,opacity:1}),"-=.2");a.forEach(function(e,d){MainTimeline.add(TweenLite.to(e,0.8,{y:440,opacity:1,ease:Bounce.easeOut,delay:0.2*(d+1)}),"-=.5")});MainTimeline.add(TweenLite.to(c.find(".text"),1,{opacity:1,scale:1}),"-=.5");MainTimeline.add(TweenLite.to(c.find("li:first-child"),0.3,{x:300,opacity:1,ease:Bounce.easeOut}),"-=.5");MainTimeline.add(TweenLite.to(c.find("li:last-child"),0.3,{x:-300,opacity:1,ease:Bounce.easeOut}),"-=.5");MainTimeline.addLabel("Question2");b=c.find(".cricket-ball");MainTimeline.add(TweenLite.to(b,1,{x:(screenSize.width*0.5)-100,y:256,scale:1.2,ease:Power3.easeIn}));MainTimeline.add(TweenLite.to(b,0.5,{y:100,scale:0.2,opacity:0,ease:Power3.easeOut}));MainTimeline.add(TweenLite.to(c.find(".bail:first-child"),0.6,{x:"-=250",y:"-=200",rotation:"-=90",scale:1.2,opacity:0,ease:Power3.easeOut}),"-=.4");MainTimeline.add(TweenLite.to(c.find(".bail:last-child"),0.6,{x:"+=250",y:"-=200",rotation:"+=90",scale:1.2,opacity:0,ease:Power3.easeOut}),"-=.7");MainTimeline.add(TweenLite.to(c.find(".stumps"),0.6,{y:"+=250",opacity:0}),"-=.6");MainTimeline.add(TweenLite.to(c.find(".text"),0.6,{y:"-=300"}),"-=.6");MainTimeline.add(TweenLite.to(c.find(".btn:first-child"),0.4,{scale:0.2,opacity:0}),"-=.6");MainTimeline.add(TweenLite.to(c.find(".btn:last-child"),0.4,{scale:0.2,opacity:0}),"-=.6");MainTimeline.add(TweenLite.to(elements.container,0.5,{backgroundColor:"#5AC4D1"}));MainTimeline.addLabel("Page3");c=elements.pages[2];MainTimeline.add(TweenLite.from(c.find(".text"),0.4,{y:200,opacity:0,ease:Power3.easeOut}),"-=.6");a=c.findAll(".question");a.forEach(function(e,d){MainTimeline.add(TweenLite.from(e,0.4,{y:200,opacity:0,delay:0.2*(d+1),ease:Power2.easeOut}),"-=.4")});a=c.findAll(".dudes");a.forEach(function(e,d){MainTimeline.add(TweenLite.from(e,0.6,{width:0,delay:0.3*d,ease:Power2.easeOut}),"-="+(0.5*d))});MainTimeline.addLabel("Question3");MainTimeline.addLabel("Page4");a=c.findAll(".question");a.forEach(function(d){MainTimeline.add(TweenLite.to(d,0.4,{rotationX:"-=90"}))});MainTimeline.add(TweenLite.to(c.find(".text"),0.6,{y:"-=200",opacity:0}),"-=1");MainTimeline.add(TweenLite.to(elements.container,0.5,{backgroundColor:"#0067AB"}));MainTimeline.addLabel("Page4");c=elements.pages[3];MainTimeline.add(TweenLite.from(c.find(".results"),0.7,{scale:2,opacity:0,ease:Bounce.easeOut}));MainTimeline.add(TweenLite.from(c.find(".cta"),0.4,{scale:2,opacity:0,ease:Bounce.easeOut,delay:0.5}));MainTimeline.addLabel("Question4")}function onTimelineUpdate(){if(getCurrentPage()!=currentPage){sortVisibility()}}function sortVisibility(){currentPage=getCurrentPage();elements.nav.findAll(".btn").forEach(function(a){if(a.id.match(/[0-9]/)[0]==currentPage){a.classList.add("active")}else{a.classList.remove("active")}});elements.pages.forEach(function(a){if(a.id.match(/[0-9]/)[0]==currentPage){a.classList.remove("hidden")}else{a.classList.add("hidden")}})}function getScrollTime(){return MainTimeline.totalDuration()*getScrollPercent()}function getScrollPosition(){return elements.scrollBox.scrollTop}function getScrollPercent(){return elements.scrollBox.scrollTop/maxScroll}function getCurrentPage(){return parseInt(MainTimeline.currentLabel().substr(-1))}function getPageScrollPosition(a){var b=MainTimeline.getLabelTime("Question"+a.toString());return maxScroll*(b/MainTimeline.totalDuration())}function snapToQuestion(){var b,a=elements.pages.length;while(a){b=getPageScrollPosition(a--);if(Math.abs(b-getScrollPosition())<200){scrollTo(b,0.5);return}}}function scrollTo(a,b){if(scrollTween){scrollTween.kill()}scrollTween=new TweenLite(elements.scrollBox,b||5,{scrollTop:Math.min(a,maxScroll),onComplete:enterQuestion,ease:Power1.easeOut})}function scrollToQuestion(a){exitQuestion();scrollTo(getPageScrollPosition(a))};