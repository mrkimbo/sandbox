"use strict";var elements={root:document.find("#main-container"),loader:document.find("#loader"),header:document.find("#header"),scrollBox:document.find("#scroll-box"),scroll:document.find("#scroll"),container:document.find("#page-container"),nav:document.find("nav"),pages:document.findAll(".page"),btns:document.findAll(".options .btn")};var answers=[0,0,0];var dirty=false,pos;var maxScroll,timeScale=1;var screenSize=new Rect();init();function init(){Hammer(elements.root,{drag_max_touches:1,drag_block_horizontal:true,drag_lock_to_axis:true}).on("touch dragup dragdown swipeup swipedown release",handleTouchEvent);elements.scrollBox.addEventListener("scroll",redraw,false);elements.scrollBox.addEventListener("click",function(a){var b;elements.btns.forEach(function(c){b=getComputedStyle(c)})});document.findAll("nav .btn").forEach(function(a){a.addEventListener("click",function(b){var c=MainTimeline.getLabelTime("Question"+b.target.id.match(/[0-9]/)[0]);scrollTo(maxScroll*(c/MainTimeline.totalDuration()))})});if(isTouchEnabled()){elements.container.style.left=0;elements.nav.style.right=0}window.addEventListener("resize",onResize,false);onResize(null);elements.loader.classList.add("hidden");elements.container.classList.remove("hidden");log("Ready..")}function onResize(a){redrawPages();redrawTweens()}function redrawPages(){var a;elements.scrollBox.style.height=elements.root.clientHeight-78+"px";maxScroll=elements.scrollBox.scrollHeight-elements.scrollBox.clientHeight;screenSize.width=elements.scrollBox.clientWidth;screenSize.height=elements.scrollBox.clientHeight;a=elements.pages[2].find(".options");TweenLite.set(a,{x:(screenSize.width-1008)*0.5});a=elements.pages[1].find(".cricket-ball");TweenLite.set(a,{x:(screenSize.width*0.5)-100,y:screenSize.height+100})}function loop(){if(dirty){redraw();checkDirty()}_raf(loop)}loop();function redraw(a){onTimelineUpdate();pos=getScrollTime();MainTimeline.seek(pos)}var lastScrollPos;function handleTouchEvent(a){switch(a.type){case"touch":if(a.target instanceof HTMLButtonElement){return}lastScrollPos=elements.scrollBox.scrollTop;break;case"dragup":case"dragdown":scrollTo(lastScrollPos-a.gesture.deltaY);break;case"swipeup":scrollTo(lastScrollPos+1000);a.gesture.stopDetect();break;case"swipedown":scrollTo(lastScrollPos-1000);a.gesture.stopDetect();break;case"release":break}a.gesture.preventDefault()}function checkDirty(){dirty=false};