"use strict";var idx=0,destX=0,totalPages=4;var page,container;var tabTimeout;function init(){var a=document.querySelectorAll(".page")[0];page=new Rect(a.clientWidth,a.clientHeight);container=document.querySelector("#page-container")}function animatePageTabs(){var a=currentPage().querySelector(".page-tab");a.style.backgroundPosition=(getComputedStyle(a).backgroundPosition.substr(0,4)=="100%")?"-70% 0":"100% 0";tabTimeout=setTimeout(animatePageTabs,3000)}function currentPage(){return document.querySelector("#page"+idx)}Hammer(document.body,{drag_max_touches:1,drag_block_vertical:true,drag_lock_to_axis:true}).on("release dragleft dragright swipeleft swiperight",handleTouchEvent);function handleTouchEvent(a){a.gesture.preventDefault();switch(a.type){case"dragleft":case"dragright":setDragPos(a.gesture.deltaX,a.gesture.direction);break;case"swipeleft":next();a.gesture.stopDetect();break;case"swiperight":prev();a.gesture.stopDetect();break;case"release":if(Math.abs(parseInt(container.style.left.replace(/px$/,""))%page.width)>(page.width*0.3)){(a.gesture.direction==Hammer.DIRECTION_LEFT)?next():prev()}else{cancelDrag()}break}}function next(){if(idx==3){return}container.className="animate";container.style.left=(page.width*(++idx)*-1)+"px"}function prev(){if(idx==0){return}container.className="animate";container.style.left=(page.width*(--idx)*-1)+"px"}function cancelDrag(){container.className="animate";container.style.left=(page.width*idx*-1)+"px"}function setDragPos(b,d){container.className="";var a,c;c=(100/page.width)*b;a=(page.width/100)*c;a=Math.max(-page.width,Math.min(page.width,a));if((idx==0&&d==Hammer.DIRECTION_RIGHT)||(idx==totalPages-1&&d==Hammer.DIRECTION_LEFT)){a*=0.4}container.style.left=(page.width*idx*-1)+a+"px"};